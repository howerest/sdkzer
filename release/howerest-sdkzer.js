var Modularizer=function(){function a(){}return a.defineModule=function(a,b){if("undefined"!=typeof angular&&"undefined"!=typeof angular.module)angular.module(a,[]).factory([function(){return b}]);else{var c="undefined"!=typeof window,d="undefined"!=typeof process&&"undefined"!=typeof process.env&&"undefined"!=typeof global?!0:!1;c?"function"==typeof define&&define.amd||"undefined"!=typeof window&&(window[a]=b):d&&(global[a]=b)}},a}(),Util;!function(a){var b=function(){function a(){}return a.isBrowser=function(){return"undefined"!=typeof window},a.isNode=function(){return"undefined"!=typeof process&&"undefined"!=typeof process.env&&"undefined"!=typeof global?!0:!1},a.nodeVersion=function(){},a}();a.EnvChecker=b;var c=function(){function a(){}return a.obj=function(a){var b=this;return function(a){if(null===a||"object"!=typeof a)return function(a){return a}(a);var c=a.constructor();for(var d in a)a.hasOwnProperty(d)&&(a[d]instanceof Object?c[d]=b.obj(a[d]):c[d]=a[d]);return c}(a)},a}();a.Cloner=c;var d=function(){function a(){}return a.camelize=function(a){return this.walk(a)},a.walk=function(a){var b=this;return this.reduce(Object.keys(a),function(c,d){var e=b.camelCase(d);return c[e]=b.walk(a[d]),c},{})},a.camelCase=function(a){return a.replace(/[_.-](\w|$)/g,function(a,b){return b.toUpperCase()})},a.reduce=function(a,b,c){if(a.reduce)return a.reduce(b,c);for(var d=0;d<a.length;d++)c=b(c,a[d],d);return c},a.map=function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c},a}();a.Camel=d}(Util||(Util={}));var WebServices;!function(a){var b=function(){function a(a,b){this.name=a,this.value=b}return a}();a.HttpHeader=b;var c=function(){function a(a,b,c,e,f){void 0===c&&(c=[]),this.qsParams={},this.data={},this.response=null,this.endpoint=a,this.httpMethod=b,this.httpHeaders=c,this.qsParams=e,this.data=f;var g=this;if(Util.EnvChecker.isBrowser())if("undefined"!=typeof h)this.client=new h;else{if("undefined"==typeof XDomainRequest)return;this.client=new XDomainRequest}else{if(!Util.EnvChecker.isNode())return;var h=require("xhr2");this.client=new h}this.client.open(this.httpMethod,this.endpoint);for(var i in this.httpHeaders)this.client.setRequestHeader(i,this.httpHeaders[i]);this.client.setRequestHeader("Accept","application/json"),this.promise=new Promise(function(a,b){this.client.onreadystatechange=function(b){b&&4==b.target.readyState?200==b.target.status&&(g.response=new d(this.endpoint,{},b.target.responseText),a(g.response)):this.promise=Promise.reject(!1)}}),this.client.send(f?JSON.stringify(f):null)}return a}();a.HttpRequest=c;var d=function(){function a(a,b,c,d){void 0===d&&(d=!0),this.data=Object.keys(c).length>0?JSON.parse(c):{}}return a}();a.HttpResponse=d;var e=function(){function a(a,b){void 0===a&&(a={}),this.qsParams=a,this.headers=b}return a.prototype.where=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.qsParams[b]=a[b]);return this},a.prototype.qsParamsToString=function(a){return void 0===a&&(a=this.qsParams),this.serialize(a)},a.prototype.serialize=function(a){var b=[];for(var c in a){var d=a[c];b.push("object"==typeof d?this.serialize(d):encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")},a}();a.HttpQuery=e}(WebServices||(WebServices={}));var Sdkzer=function(){function a(a){void 0===a&&(a={}),this.attrs={id:null},this.pAttrs={id:null},this.syncing=!1,this.lastResponse=null,this.setDefaults();for(var b in a)this.attrs[b]=a[b]}return a.prototype.configure=function(a){this.DEFAULT_HTTP_HEADERS=a.defaultHttpHeaders?a.defaultHttpHeaders:this.DEFAULT_HTTP_HEADERS,this.HTTP_PATTERN=a.httpPattern?a.httpPattern:this.HTTP_PATTERN},a.prototype.setDefaults=function(){if(this.defaults()){var a=this.defaults();for(var b in a)this.attrs[b]=a[b]}},a.prototype.defaults=function(){return{}},a.prototype.attr=function(a,b){return void 0===b?this.attrs[a]:void(this.attrs[a]=b)},a.prototype.resourceEndpoint=function(){return""},a.prototype.isNew=function(){return null!==this.attrs.id?!1:!0},a.prototype.hasChanged=function(){return this.isNew()&&this.changedAttrs().length>0},a.prototype.hasAttrChanged=function(a){var b,c;for(c=this.changedAttrs(),b=0;b<c.length;b++)if(c[b]===a)return!0;return!1},a.prototype.changedAttrs=function(){var a=[];for(var b in this.prevAttrs())this.prevAttrs()[b]!=this.attrs[b]&&a.push(b);return a},a.prototype.prevAttrs=function(){var a={};for(var b in this.attrs)this.pAttrs[b]!=this.attrs[b]&&(a[b]=this.pAttrs[b]?this.pAttrs[b]:null);return a},a.prototype.previousValue=function(a){},a.prototype.fetch=function(a,b,c){void 0===b&&(b=!0),void 0===c&&(c=[]);var d,e=this;if(this.attrs.id){this.syncing=!0;var f=new WebServices.HttpRequest(this.resourceEndpoint()+"/"+this.attrs.id,"GET",c);d=f.promise,d.then(function(a){e.syncing=!1;var b=e.parse(a.data);for(var c in b)e.attrs[c]!=b[c]&&(e.pAttrs[c]=b[c]);e.attrs=b},function(a){e.syncing=!1})}return"undefined"===d&&(d=new Promise(function(a,b){}),d=Promise.reject(!1)),d},a.prototype.parse=function(a){return a},a.prototype.toOriginJSON=function(){return this.attrs},a.prototype.toOriginXML=function(){},a.prototype.toOrigin=function(a){switch(a){case"json":this.toOriginJSON();break;case"xml":this.toOriginXML()}return this.attrs},a.prototype.update=function(a){void 0===a&&(a=[]);var b=this;if(this.hasChanged()){var c=new WebServices.HttpRequest(this.resourceEndpoint()+"/"+this.attrs.id,"PUT",a,{},this.toOriginJSON());return c.promise.then(function(a){b.lastResponse=a})}},a.prototype.destroy=function(){new WebServices.HttpRequest(this.resourceEndpoint()+"/"+this.attrs.id,"DELETE")},a.fetchIndex=function(a,b){void 0===b&&(b=[]);var c=new this,d=new WebServices.HttpRequest(c.resourceEndpoint(),"GET",b);return d.promise},a.fetchOne=function(a,b){void 0===b&&(b=[]);var c=new this,d=new WebServices.HttpRequest(c.resourceEndpoint()+"/"+a,"GET",b);return d.promise},a.DEFAULT_HTTP_HEADERS=[],a.HTTP_PATTERN="restful-crud",a}();Modularizer.defineModule("Sdkzer",Sdkzer);