/*! howerest-sdkzer 0.1.0 | howerest 2016 - <davidvalin@howerest.com> | Apache 2.0 Licensed */
var Util;!function(a){var b=function(){function a(){}return a.isBrowser=function(){return"undefined"!=typeof window},a.isNode=function(){return"undefined"!=typeof process&&"undefined"!=typeof process.env&&"undefined"!=typeof global},a.nodeVersion=function(){},a}();a.EnvChecker=b;var c=function(){function a(){}return a.obj=function(a){var b=this;return function(a){if(null===a||"object"!=typeof a)return function(a){return a}(a);var c=a.constructor();for(var d in a)a.hasOwnProperty(d)&&(a[d]instanceof Object?c[d]=b.obj(a[d]):c[d]=a[d]);return c}(a)},a}();a.Cloner=c;var d=function(){function a(){}return a.camelize=function(a){return this.walk(a)},a.walk=function(a){var b=this;return this.reduce(Object.keys(a),function(c,d){var e=b.camelCase(d);return c[e]=b.walk(a[d]),c},{})},a.camelCase=function(a){return a.replace(/[_.-](\w|$)/g,function(a,b){return b.toUpperCase()})},a.reduce=function(a,b,c){if(a.reduce)return a.reduce(b,c);for(var d=0;d<a.length;d++)c=b(c,a[d],d);return c},a.map=function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c},a}();a.Camel=d}(Util||(Util={}));var WebServices;!function(a){var b=function(){function a(){try{return new XMLHttpRequest}catch(a){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}return null}return a}();a.XHR=b;var c=function(){function a(a){this.name=Object.keys(a)[0],this.value=a[Object.keys(a)[0]]}return a}();a.HttpHeader=c;var d=function(){function a(a){this.response=null,this.query=a;var c,d=this,f=null;if(Util.EnvChecker.isBrowser())this.client=new b;else{if(!Util.EnvChecker.isNode())return;var g=require("xhr2");this.client=new g}this.client.open(this.query.httpMethod,this.query.endpoint);for(var h in this.query.headers)this.client.setRequestHeader(h,this.query.headers[h]);this.query.headers.Accept||this.client.setRequestHeader("Accept","application/json"),this.query.headers["Content-Type"]||this.client.setRequestHeader("Content-Type","application/json;charset=UTF-8"),this.promise=new Promise(function(a,b){d.client.onreadystatechange=function(b){b&&4==b.target.readyState&&(200==b.target.status||204==b.target.status?(d.response=new e(d.query.endpoint,{},b.target.responseText?b.target.responseText:null),a(d.response)):(d.promise=Promise.reject(!1),a({})))}}),"object"==typeof this.query.data&&(c=Object.keys(this.query.data),c.length>0&&(f=JSON.stringify(this.query.data))),this.client.send(f)}return a}();a.HttpRequest=d;var e=function(){function a(a,b,c,d){if(void 0===d&&(d=!0),c&&d)try{this.data=JSON.parse(c)}catch(e){}else this.data=c}return a}();a.HttpResponse=e;var f=function(){function a(a){this.httpMethod="GET",this.qsParams={},this.headers=[],this.data={},this.endpoint=a.endpoint,this.httpMethod=a.httpMethod,this.qsParams=a.qsParams,this.headers=a.headers,this.data=a.data}return a.prototype.where=function(a){void 0===a&&(a=this.qsParams);for(var b in a)a.hasOwnProperty(b)&&(this.qsParams[b]=a[b]);return this},a.prototype.withHeaders=function(a){void 0===a&&(a=[]),this.headers=a},a.prototype.withData=function(a){void 0===a&&(a={}),this.data=a},a.prototype.qsParamsToString=function(a){return void 0===a&&(a=this.qsParams),this.serialize(a)},a.prototype.serialize=function(a){var b=[];for(var c in a){var d=a[c];b.push("object"==typeof d?this.serialize(d):encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")},a}();a.HttpQuery=f}(WebServices||(WebServices={}));