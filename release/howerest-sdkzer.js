/*! howerest-sdkzer 0.1.0-rc.2 | howerest 2016 - <davidvalin@howerest.com> | Apache 2.0 Licensed */
define(["require","exports"],function(a,b){"use strict";var c;!function(a){var b=function(){function a(){}return a.isBrowser=function(){return"undefined"!=typeof window},a.isNode=function(){return"undefined"!=typeof process&&"undefined"!=typeof process.env&&"undefined"!=typeof global},a.nodeVersion=function(){},a}();a.EnvChecker=b;var c=function(){function a(){}return a.obj=function(a){var b=this;return function(a){if(null===a||"object"!=typeof a)return function(a){return a}(a);var c=a.constructor();for(var d in a)a.hasOwnProperty(d)&&(a[d]instanceof Object?c[d]=b.obj(a[d]):c[d]=a[d]);return c}(a)},a}();a.Cloner=c;var d=function(){function a(){}return a.camelize=function(a){return this.walk(a)},a.walk=function(a){var b=this;return this.reduce(Object.keys(a),function(c,d){var e=b.camelCase(d);return c[e]=b.walk(a[d]),c},{})},a.camelCase=function(a){return a.replace(/[_.-](\w|$)/g,function(a,b){return b.toUpperCase()})},a.reduce=function(a,b,c){if(a.reduce)return a.reduce(b,c);for(var d=0;d<a.length;d++)c=b(c,a[d],d);return c},a.map=function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c},a}();a.Camel=d}(c=b.Util||(b.Util={}))}),define(["require","exports","es6-promise","./util"],function(a,b,c,d){"use strict";var e;!function(a){var b=function(){function a(){try{return new XMLHttpRequest}catch(a){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}return null}return a}();a.XHR=b;var e=function(){function a(a){this.name=Object.keys(a)[0],this.value=a[Object.keys(a)[0]]}return a}();a.HttpHeader=e;var f=function(){function a(a){this.response=null,this.query=a;var e,f=this,h=null;if(d.Util.EnvChecker.isBrowser())this.client=new b;else{if(!d.Util.EnvChecker.isNode())return;var i=xhr2;this.client=new i}this.client.open(this.query.httpMethod,this.query.endpoint);for(var j=0;j<this.query.headers.length;j++)this.client.setRequestHeader(this.query.headers[j].name,this.query.headers[j].value);this.query.headers.Accept||this.client.setRequestHeader("Accept","application/json"),this.query.headers["Content-Type"]||this.client.setRequestHeader("Content-Type","application/json;charset=UTF-8"),this.promise=new c.Promise(function(a,b){f.client.onreadystatechange=function(b){b&&4==b.target.readyState&&(200==b.target.status||204==b.target.status?(f.response=new g(f.query.endpoint,{},b.target.responseText?b.target.responseText:null),a(f.response)):(f.promise=c.Promise.reject(!1),a({})))}}),"object"==typeof this.query.data&&(e=Object.keys(this.query.data),e.length>0&&(h=JSON.stringify(this.query.data))),this.client.send(h)}return a}();a.HttpRequest=f;var g=function(){function a(a,b,c,d){if(void 0===d&&(d=!0),c&&d)try{this.data=JSON.parse(c)}catch(a){}else this.data=c}return a}();a.HttpResponse=g;var h=function(){function a(a){this.httpMethod="GET",this.qsParams={},this.headers=[],this.data={},this.endpoint=a.endpoint,this.httpMethod=a.httpMethod,this.qsParams=a.qsParams,this.headers=a.headers,this.data=a.data}return a.prototype.where=function(a){void 0===a&&(a=this.qsParams);for(var b in a)a.hasOwnProperty(b)&&(this.qsParams[b]=a[b]);return this},a.prototype.withHeaders=function(a){void 0===a&&(a=[]),this.headers=a},a.prototype.withData=function(a){void 0===a&&(a={}),this.data=a},a.prototype.qsParamsToString=function(a){return void 0===a&&(a=this.qsParams),this.serialize(a)},a.prototype.serialize=function(a){var b=[];for(var c in a){var d=a[c];b.push("object"==typeof d?this.serialize(d):encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")},a}();a.HttpQuery=h;var i=function(){function b(){}return b.mergeHttpQueries=function(b){for(var c=new a.HttpQuery({endpoint:null,httpMethod:null,qsParams:{},headers:[],data:{}}),d=0;d<b.length;d++)for(var e=["httpMethod","endpoint","headers","qsParams","data"],f=0;f<e.length;f++)"undefined"!=typeof b[d][e[f]]&&(c[e[f]]=b[d][e[f]]);return c},b}();a.Merger=i}(e=b.WebServices||(b.WebServices={}))});