<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>sdkzer</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script src="assets/js/modernizr.js"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">sdkzer</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> sdkzer</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h2 id="0-1-0-release-candidate-available">0.5.0-rc.1 Release candidate available</h2>
				<p>David Val√≠n
				howerest Labs . <a href="http://www.howerest.com/labs">http://www.howerest.com/labs</a></p>
				<p><a href="https://travis-ci.org/howerest/sdkzer"><img src="https://travis-ci.org/howerest/sdkzer.svg?branch=master" alt="Build Status"></a></p>
				<h1 id="full-api-docs">Full API docs</h1>
				<p>Current v0.5.0-rc.1 - <a href="http://www.howerest.com/sdkzer/docs/0.5.0-rc.1-rc/classes/_howerest_sdkzer_.sdkzer.html">Read full API docs</a></p>
				<h2 id="introduction">Introduction</h2>
				<p>sdkzer implements a dev-friendly javascript API to interact with http services implemented as RESTful which implement CRUD operations: Create, Read, Update and Delete. You create entities that extend Sdkzer class and those will automatically be connected to your restful backend endpoints. A class like User will allow you to deal with your <a href="http://yourdomain.com/api/v1/users">http://yourdomain.com/api/v1/users</a> endpoint.</p>
				<p>If you have a RESTful (CRUD) http API, sdkzer will work out of the box allowing you to Create, Read, Update and Delete records from a javascript API that makes sense, along with multiple methods to deal with the record state.</p>
				<p>On top of that communication layer that sdkzer does for you out of the box you will write your custom model methods and  attributes. sdkzer makes only the repetitive work for you: communicate with the backend. This is an excelent way to standarize your backend-frontend communication. By providing a predictable http api in your backend we are able to easily build an SDK that knows how to talk to your backend to make any imaginable request.</p>
				<p>Thanks to Typescript, sdkzer is able to be automatically exported to ES3, ES5 and ES6.</p>
				<p>sdkzer play nice with any framework: Angular 1.x, Angular 2, Riot, React.js... And will help you to have a model layer in your software that you can easily migrate to any javascript framework.</p>
				<p>With sdkzer you don&#39;t talk low level to your http API, you do it through a javascript API like so:</p>
				<pre><code>let <span class="hljs-keyword">like</span> = <span class="hljs-keyword">new</span> Like({
  userId: <span class="hljs-number">10</span>,
  productId: <span class="hljs-number">29188</span>
});

<span class="hljs-keyword">like</span>.save() <span class="hljs-comment">// We got a Promise</span>
</code></pre><h2 id="understanding-models">Understanding models</h2>
				<p>If you want to know about the importance of a model in your software take a look at this book: Domain-Driven Design: Tackling Complexity in the Heart of Software by Eric Evans.</p>
				<h2 id="the-reason-of-this">The reason of this</h2>
				<p>After seen big amounts of spagetti code in big frontend applications, I realize that we require a way to create models in the frontend in an standard way that helps us to Create, Read, Update and Delete records easily without having to write all the logic everytime. sdkzer helps you to get rid of spagetti code by centralizing your business logic into your model layer.</p>
				<p>This is inspired in &quot;<a href="https://github.com/bfanger/angular-activerecord">angular-activerecord</a>&quot;. I&#39;ve being loving angular-activerecord but it was depending on Angular 1.x code, this didn&#39;t fix my requirement of cross-framework and environment. A deeper layer of objects (without dependencies) to handle XHR, HttpRequest, HttpResponse, HttpQuery... was a potential improvement.</p>
				<p>The use of TypeScript would help to organize the code, the tests, and understand it better.</p>
				<p>Finally I separated those low level classes into WebServices. Sdkzer is on top of WebServices, helping to build models around CRUD operations.</p>
				<h2 id="typescript">Typescript</h2>
				<p>sdkzer is developed in Typescript. You can extend Sdkzer class for each of your SDK entities and you are ready to go.</p>
				<h2 id="1-implementing-your-sdk-with-sdkzer">1. Implementing your SDK with sdkzer</h2>
				<ul>
					<li>Setup TypeScript compiler</li>
				</ul>
				<h3 id="1-1-how-to-construct-your-sdk">1.1. How to construct your SDK</h3>
				<p>Wrap your SDK into a module that contain all your model instances. You can optionally create 1 module per entity as well if you have many model entities that you want to lazy load.</p>
				<h3 id="install-sdkzer-in-your-sdk-repository">Install Sdkzer in your SDK repository</h3>
				<p><code>npm install sdkzer --save</code></p>
				<h3 id="import-sdkzer-in-your-sdk-repository">Import Sdkzer in your SDK repository</h3>
				<p><code>import { Sdkzer } from &#39;sdkzer&#39;</code></p>
				<h4 id="sample-code-in-this-case-we-want-a-model-called-event-that-will-be-mapped-to-a-restful-endpoint-that-implements-the-crud-operations-called-http-localhost-8000-api-v1-events-">Sample code. In this case we want a model called Event that will be mapped to a RESTful endpoint that implements the CRUD operations called &quot;<a href="http://localhost:8000/api/v1/events">http://localhost:8000/api/v1/events</a>&quot;.</h4>
				<p>Typescript:</p>
				<pre><code><span class="hljs-keyword">import</span> { Sdkzer } from <span class="hljs-string">'sdkzer'</span>

export module SDK {
 <span class="hljs-comment">/**
  * Perform CRUD operations (Create, Read, Update and Delete) to deal with Events
  * Event is mapped to "http://localhost:8000/api/v1/events" endpoint
  */</span>
 export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Event</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Sdkzer</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">baseEndpoint</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-keyword">return</span> <span class="hljs-string">"http://localhost:8000/api/v1/events"</span>;
     }

     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">defaults</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-keyword">return</span> {
         name: <span class="hljs-keyword">null</span>,
         geo: {
           lat: <span class="hljs-keyword">null</span>,
           lon: <span class="hljs-keyword">null</span>
         },
         start_date: <span class="hljs-keyword">null</span>,
         end_date: <span class="hljs-keyword">null</span>
       };
     }

     <span class="hljs-comment">/*
      * This parses the data received from the origin endpoint
      */</span>
     <span class="hljs-keyword">public</span> $parse(data:Object) {
       <span class="hljs-keyword">return</span> data[<span class="hljs-string">'event'</span>];
     }

     <span class="hljs-comment">/*
      * This converts local state into data understandable by the origin endpoint
      */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">toOriginJSON</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-keyword">return</span> { <span class="hljs-string">'event'</span>: <span class="hljs-keyword">this</span>.attr() };
     }

     <span class="hljs-comment">/*
      * Your instance methods hold your business logic
      */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">isHappening</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.attr(<span class="hljs-string">"start_date"</span>) === <span class="hljs-keyword">new</span> Date().toISOString().slice(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>));
     }

     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">howLongAgo</span><span class="hljs-params">()</span> </span>{
       <span class="hljs-comment">// ...</span>
     }

     <span class="hljs-comment">// [...]</span>

     <span class="hljs-comment">/*
      * Your static methods to retrieve collections
      */</span>
      <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-title">fetchIndexByCityName</span><span class="hljs-params">(cityName)</span> </span>{
        <span class="hljs-comment">// This query will merged on top of the default Event.fetchIndex() HttpQuery</span>
        var indexByCityNameHttpQuery = <span class="hljs-keyword">new</span> WebServices.HttpQuery({
            qsParams: {
              <span class="hljs-string">'city_name'</span>: cityName
            }
        });

        <span class="hljs-comment">// Always use the default fetchIndex() passing your custom HttpQuery</span>
        <span class="hljs-comment">// to retrieve collections. if you need to override it do it</span>
        <span class="hljs-function"><span class="hljs-keyword">return</span> Event.<span class="hljs-title">fetchIndex</span><span class="hljs-params">(indexByCityNameHttpQuery)</span></span>;
      }
     <span class="hljs-comment">// [...]</span>
   }
}
</code></pre><h3 id="1-2-default-headers">1.2. Default headers</h3>
				<p>You can set default headers that will be applied to all requests.
				Useful to send an authorization token. Http headers travel encrypted only through https.</p>
				<pre><code><span class="hljs-tag">Sdkzer</span><span class="hljs-class">.configure</span>(<span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">defaultHttpHeaders</span>:<span class="hljs-value"> [
    { <span class="hljs-string">'Auth-Token'</span>: <span class="hljs-string">"9a8811c02d9aeqdc12928sscua199e3e1"</span> </span></span></span>}
  ]
});
</code></pre><h2 id="2-using-your-sdk">2. Using your SDK</h2>
				<p>You can use your an sdkzer SDK in the browser or Node.js environments.</p>
				<h3 id="2-1-read-retrieve-collections-from-a-resource">2.1. Read (retrieve) collections from a resource</h3>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

<span class="hljs-keyword">var</span> events;

SDK.Event.fetchIndexByCityName(<span class="hljs-string">"New York"</span>).then(
  <span class="hljs-comment">// Success</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">eventInstances</span>) </span>{
    events = eventInstances;
  },
  <span class="hljs-comment">// Fail</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ }
);
</code></pre><h2 id="2-2-create-read-update-delete-crud-">2.2. Create / Read / Update / Delete (CRUD)</h2>
				<h3 id="2-2-1-create-a-record-and-save">2.2.1. Create a record and save</h3>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

<span class="hljs-keyword">var</span> myEvent = <span class="hljs-keyword">new</span> SDK.EventEvent({
  name: <span class="hljs-string">"Salsa event"</span>,
  geo: {
    lat: <span class="hljs-number">52.370216</span>,
    lon <span class="hljs-number">4.895168</span>
  },
  start_date: <span class="hljs-string">"2016/06/01"</span>,
  end_date: <span class="hljs-string">"2016/06/02"</span>
});

myEvent.update();
</code></pre><h3 id="2-2-2-read-retrieve-a-record">2.2.2. Read (retrieve) a record</h3>
				<h5 id="option-a-when-you-have-an-instance-already">Option A. When you have an instance already</h5>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

<span class="hljs-comment">// Your instance needs an id in order to be fetched from the origin</span>
<span class="hljs-keyword">var</span> event = <span class="hljs-keyword">new</span> SDK.Event({ id: <span class="hljs-number">19</span> });
<span class="hljs-comment">// [...]</span>
event.fetch().then(
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Attributes has been updated!'</span>); },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Failed when fetching the User'</span>) }
);
</code></pre><h5 id="option-b-when-you-don-t-have-an-instance-already">Option B. When you don&#39;t have an instance already</h5>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

<span class="hljs-keyword">var</span> event;
SDK.Event.fetchOne(<span class="hljs-number">19</span>).then(
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">eventInstance</span>) </span>{ event = eventInstance },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Failed when syncing the Event'</span>) }
);
</code></pre><h3 id="2-2-3-update-a-record">2.2.3. Update a record</h3>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

event.update().then(
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Updated'</span>); },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Failed when updating'</span>); }
);
</code></pre><h3 id="2-2-4-delete-a-record">2.2.4. Delete a record</h3>
				<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> SDK <span class="hljs-keyword">from</span> <span class="hljs-string">'my-sdkzer-sdk'</span>;

event.destroy().then(
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Deleted'</span>); },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Failed when deleting'</span>) }
);
</code></pre><h4 id="next-steps">Next steps</h4>
				<ul>
					<li>Write about integration with Angular 2</li>
					<li>Write about integration with Angular 1.x</li>
					<li>Write about integration with Riot.js</li>
					<li>Make easier integration with non RESTful services</li>
				</ul>
				<h2 id="contribute">Contribute</h2>
				<pre><code>npm <span class="hljs-operator"><span class="hljs-keyword">install</span>
tsd <span class="hljs-keyword">install</span>
karma <span class="hljs-keyword">start</span> karma.conf</span>
</code></pre><ol>
					<li>Write important test cases for every public function</li>
					<li>Previous tests should pass</li>
					<li>Implement your code until your tests pass</li>
					<li>Once you are done, make a pull request</li>
				</ol>
				<h2 id="inspired-from">Inspired from</h2>
				<p>ActiveRecord, angular-activerecord, Doctrine, Hibernate, soci</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_howerest_sdkzer_.html">"howerest.sdkzer"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_validation_rule_.html">"validation_<wbr>rule"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.io" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>